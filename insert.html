<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inserthtml</title>
    <link rel="stylesheet" href="insert.css" media="all">
</head>
<body>
    <section>
    <h1>Fill Student Marks</h1>
    <form action="insert.php" method="post">
        <table>
            <tr>
                <th>Roll No.</th>
                <td colspan="1"><input type="text" name="roll_no"></td>
                <th>Student Name</th>
                <td colspan="4"><input type="text" name="student_name" style="text-transform: uppercase;"></td>
            </tr>
            <!--<tr>
                <th>Student Name</th>
                <td colspan="4"><input type="text" name="student_name" style="text-transform: uppercase;"></td>
            </tr>-->
            <tr>
                <th>Father's Name</th>
                <td><input type="text" name="father_name" style="text-transform: uppercase;"></td>
                <th>Mother's Name</th>
                <td><input type="text" name="mother_name" style="text-transform: uppercase;"></td>
            </tr>
            <tr>
                <th>Enrollment Year</th>
                <td><input type="text" name="enrollment_year" value="2022" readonly></td>
                <th>Enrolment No.</th>
                <td><input type="text" name="enrollment_no" required></td>
            </tr>
            <tr>
                <th>Attempt</th>
                <td colspan="4"><input type="text" name="attempt" value="I" readonly></td>
            </tr>
        </table>
        <table>
            <tr>
                <th id="col1">Subject Code</th>
                <th id="col2">Subject / Paper</th>
                <th id="col3">Th.</th>
                <th id="col3" >Int.</th>
                <th id="col3">Theroy Total</th>
                <th id="col3">Prac_ext</th>
                <th id="col3">Prac_int</th>
                <th id="col3">Practical Total</th>
                <th id="col3">Final Total</th>
            <tr>
                <td><input value="3711" type="text" name="subject_code[]" readonly></td>
                <td><input value="Pharmacology - Theory" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" id="theory1" oninput="calculateTotal(1)" required></td>
                <td><input type="text" name="internal[]" id="internal1" oninput="calculateTotal(1)" required></td>
                <td><input type="text" name="theory_total[]" id="theory_total1" required></td>

                <td><input type="text" name="prac_ext[]" value="-" readonly></td>
                <td><input type="text" name="prac_int[]" value="-" readonly></td>
                <td><input type="text" name="practical_total[]" value="-" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" required></td>
            </tr>
            <tr>
                <td><input value="3712" type="text" name="subject_code[]" readonly></td>
                <td><input value="Community Pharmacy & Management - Theory" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" id="theory2" oninput="calculateTotal(2)" required></td>
                <td><input type="text" name="internal[]" id="internal2" oninput="calculateTotal(2)" required></td>
                <td><input type="text" name="theory_total[]" id="theory_total2" required></td>

                <td><input type="text" name="prac_ext[]" value="-" readonly></td>
                <td><input type="text" name="prac_int[]" value="-" readonly></td>
                <td><input type="text" name="practical_total[]" value="-" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" required></td>
            </tr>
            <tr>
                <td><input value="3713" type="text" name="subject_code[]" readonly></td>
                <td><input value="Biochemistry & Clinical Pathology - Theory" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" id="theory3" oninput="calculateTotal(3)" required></td>
                <td><input type="text" name="internal[]" id="internal3" oninput="calculateTotal(3)" required></td>
                <td><input type="text" name="theory_total[]" id="theory_total3" required></td>

                <td><input type="text" name="prac_ext[]" value="-" readonly></td>
                <td><input type="text" name="prac_int[]" value="-" readonly></td>
                <td><input type="text" name="practical_total[]" value="-" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" required></td>
            </tr>
            <tr>
                <td><input value="3714" type="text" name="subject_code[]" readonly></td>
                <td><input value="Pharmacotherapeutics - Theory" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" id="theory4" oninput="calculateTotal(4)" required></td>
                <td><input type="text" name="internal[]" id="internal4" oninput="calculateTotal(4)" required></td>
                <td><input type="text" name="theory_total[]" id="theory_total4" required></td>

                <td><input type="text" name="prac_ext[]" value="-" readonly></td>
                <td><input type="text" name="prac_int[]" value="-" readonly></td>
                <td><input type="text" name="practical_total[]" value="-" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" required></td>
            </tr>
            <tr>
                <td><input value="3715" type="text" name="subject_code[]" readonly></td>
                <td><input value="Hospital & Clinical Pharmacy - Theory" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" id="theory5" oninput="calculateTotal(5)" required></td>
                <td><input type="text" name="internal[]" id="internal5" oninput="calculateTotal(5)" required></td>
                <td><input type="text" name="theory_total[]" id="theory_total5" required></td>

                <td><input type="text" name="prac_ext[]" value="-" readonly></td>
                <td><input type="text" name="prac_int[]" value="-" readonly></td>
                <td><input type="text" name="practical_total[]" value="-" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" required></td>
            </tr>
            <tr>
                <td><input value="3716" type="text" name="subject_code[]" readonly></td>
                <td><input value="Pharmacy Law & Ethics - Theory" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" id="theory6" oninput="calculateTotal(6)" required></td>
                <td><input type="text" name="internal[]" id="internal6" oninput="calculateTotal(6)" required></td>
                <td><input type="text" name="theory_total[]" id="theory_total6" required></td>

                <td><input type="text" name="prac_ext[]" value="-" readonly></td>
                <td><input type="text" name="prac_int[]" value="-" readonly></td>
                <td><input type="text" name="practical_total[]" value="-" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" required></td>
            </tr>
            <tr>
                <td><input value="3717" type="text" name="subject_code[]" readonly></td>
                <td><input value="Pharmacology - Practical" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" value="-" readonly></td>
                <td><input type="text" name="internal[]" value="-" readonly></td>
                <td><input type="text" name="theory_total[]" value="-" readonly></td>

                <td><input type="text" name="prac_ext[]" id="prac_ext7" oninput="calculatePracticalTotal(7)" required></td>
                <td><input type="text" name="prac_int[]" id="prac_int7" oninput="calculatePracticalTotal(7)" required></td>
                <td><input type="text" name="practical_total[]" id="practical_total7" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" readonly></td>
            </tr>
            <tr>
                <td><input value="3718" type="text" name="subject_code[]" readonly></td>
                <td><input value="Community Pharmacy & Management - Practical" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" value="-" readonly></td>
                <td><input type="text" name="internal[]" value="-" readonly></td>
                <td><input type="text" name="theory_total[]" value="-" readonly></td>

                <td><input type="text" name="prac_ext[]" id="prac_ext8" oninput="calculatePracticalTotal(8)" required></td>
                <td><input type="text" name="prac_int[]" id="prac_int8" oninput="calculatePracticalTotal(8)" required></td>
                <td><input type="text" name="practical_total[]" id="practical_total8" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" readonly></td>
            </tr>
            <tr>
                <td><input value="3719" type="text" name="subject_code[]" readonly></td>
                <td><input value="Biochemistry & Clinical Pathology - Practical" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" value="-" readonly></td>
                <td><input type="text" name="internal[]" value="-" readonly></td>
                <td><input type="text" name="theory_total[]" value="-" readonly></td>

                <td><input type="text" name="prac_ext[]" id="prac_ext9" oninput="calculatePracticalTotal(9)" required></td>
                <td><input type="text" name="prac_int[]" id="prac_int9" oninput="calculatePracticalTotal(9)" required></td>
                <td><input type="text" name="practical_total[]" id="practical_total9" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" readonly></td>
            </tr>
            <tr>
                <td><input value="3720" type="text" name="subject_code[]" readonly></td>
                <td><input value="Pharmacotherapeutics - Practical" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" value="-" readonly></td>
                <td><input type="text" name="internal[]" value="-" readonly></td>
                <td><input type="text" name="theory_total[]" value="-" readonly></td>

                <td><input type="text" name="prac_ext[]" id="prac_ext10" oninput="calculatePracticalTotal(10)" required></td>
                <td><input type="text" name="prac_int[]" id="prac_int10" oninput="calculatePracticalTotal(10)" required></td>
                <td><input type="text" name="practical_total[]" id="practical_total10" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" readonly></td>
            </tr>
            <tr>
                <td><input value="3721" type="text" name="subject_code[]" readonly></td>
                <td><input value="Hospital & Clinical Pharmacy - Practical" type="text" name="subject_name[]" readonly></td>

                <td><input type="text" name="theory[]" value="-" readonly></td>
                <td><input type="text" name="internal[]" value="-" readonly></td>
                <td><input type="text" name="theory_total[]" value="-" readonly></td>

                <td><input type="text" name="prac_ext[]" id="prac_ext11" oninput="calculatePracticalTotal(11)" required></td>
                <td><input type="text" name="prac_int[]" id="prac_int11" oninput="calculatePracticalTotal(11)" required></td>
                <td><input type="text" name="practical_total[]" id="practical_total11" readonly></td>

                <td><input type="text" name="final_total[]" id="final_total12" oninput="calculateFinalTotal(12)" readonly></td>
            </tr>
           
        </table>
        <table>
        <h3>
            <tr>
                <td>Result</td>
                <td><input type="text" name="result" required></td>
                <td>Total Marks</td>
                <td><input type="text" name="total_marks" id="total_marks" required> /1100</td>
            </tr>
        </h3>
        </table>
        <br>
        <div class="button-container">
            <button type="button" onclick="previewForm()" class="style">Preview</button>
            <button type="submit" name="submit" class="style">Save Marks</button>
        </div>
        
    </form>
    
    </section>
   
    <!-- Auto calculation ke liye js-->
    <script>
        //ye js code only theory calculate ke liye hai or copy krne k liye
        function calculateTotal(row) {
            // Get theory and internal marks
            let theory = parseFloat(document.getElementById("theory" + row).value) || 0;
            let internal = parseFloat(document.getElementById("internal" + row).value) || 0;

            // Calculate theory total
            let theoryTotal = theory + internal;
            document.getElementById("theory_total" + row).value = theoryTotal;

            // Copy theory total to final total
            document.getElementsByName("final_total[]")[row - 1].value = theoryTotal;
            calculateTotalMarks(); // Recalculate total marks whenever theory is updated

        }
        
        //ye js code only practical calculate ke liye hai or copy krne k liye
        function calculatePracticalTotal(row) {
            // Get pracExt and pracInt marks
            let pracEXT = parseFloat(document.getElementById("prac_ext" + row).value) || 0;
            let pracINT = parseFloat(document.getElementById("prac_int" + row).value) || 0;

            //Calculation practical total
            let practicalTotal = pracEXT + pracINT;
            document.getElementById("practical_total" + row).value = practicalTotal;

            //copy practical total to fianl total
            document.getElementsByName("final_total[]")[row - 1].value = practicalTotal;
            calculateTotalMarks(); // Recalculate total marks whenever theory is updated
        }

        // total marks ke liye js
        function calculateTotalMarks() {
        let totalMarks = 0;
        let finalTotalFields = document.querySelectorAll('[name="final_total[]"]');
        
        // Loop through each 'final_total[]' input and sum the values
        finalTotalFields.forEach(function(field) {
            let value = parseFloat(field.value);
            if (!isNaN(value)) {
                totalMarks += value; // Add the number to the total
            }
        });
        
        // Update the 'total_marks' input field with the calculated sum
        document.getElementById('total_marks').value = totalMarks;
        }

        // Add event listeners to recalculate when any of the 'final_total[]' fields change
        document.querySelectorAll('[name="final_total[]"]').forEach(function(field) {
        field.addEventListener('input', calculateTotalMarks);
        });
        
      
    </script>

    
    
</body>
</html>
<!-- Undo-->